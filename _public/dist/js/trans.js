/*! take-home | Version: 0.0.1 | Minified on 2014-01-23 */

angular.module("TH").controller("ctrlrTransactions",["$scope","$rootScope","dataServices",function(a,b,c){"use strict";var d={};b.$on("$routeChangeStart",function(){a.$emit("setScrollPosition")}),a.$emit("scrollToPosition"),c.query({type:"transactions"}).then(function(b){d={type:b.data.type,next:b.data.next,limit:b.data.limit},a.transactions=b.data.collection}),a.$on("loadMorePost",function(){d.next-d.limit>-10&&c.query({type:"transactions",next:d.next}).then(function(b){d.next=b.data.next,a.transactions=a.transactions.concat(b.data.data)})})}]).controller("ctrlrTransItem",["$scope","$routeParams","dataServices",function(a,b,c){"use strict";c.query({type:"transactions",item:b.id}).then(function(b){a.trans=b.data})}]).controller("ctrlrTransNew",["$scope","$routeParams","dataServices",function(a,b,c){"use strict";a.trans={},a.trans.currency="USD",a.currencySymbol="$",a.changeSymbol=function(){switch(a.currency){case"USD":a.currencySymbol="$";break;case"EUR":a.currencySymbol="€";break;case"JPY":a.currencySymbol="¥"}},a.saveTrans=function(){var b="/api/transactions";a.saveTransactionForm.$valid?(a.sending="active",c.create(b,a.trans).success(function(){a.sending=!1})):a.formMessage="Error: Please feel in the required fields."},a.clearForm=function(){a.send={},a.sendMoneyForm.$setPristine()}}]);